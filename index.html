<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="theme-color" content="#1a0b2e" />
  <title>Aula Corporativa - Acceso Seguro</title>

  <style>
    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       VARIABLES CSS - Tenant Override System
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    :root {
--shadow-sm: 0 4px 16px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.4);
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 20px;
  --transition-fast: 180ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-smooth: 350ms cubic-bezier(0.4, 0, 0.2, 1);
  --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;


    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESET & BASE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      height: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }

    body {
      min-height: 100vh;
      font-family: var(--font-sans);
      color: var(--text-light);
      background: var(--bg-dark);
      overflow-x: hidden;
      position: relative;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       ANIMATED BACKGROUND
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
.bg-animated {
  position: fixed;
  inset: 0;
  z-index: 0;
  background: var(--bg-dark);
  overflow: hidden;
}


    @keyframes gradientShift {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      50% { transform: translate(-10%, -10%) rotate(5deg); }
    }

    .bg-orbs {
      position: absolute;
      inset: 0;
      overflow: hidden;
      opacity: 0.6;
    }

    .orb {
      position: absolute;
      border-radius: 50%;
      filter: blur(80px);
      opacity: 0.5;
      animation: float 15s ease-in-out infinite;
      will-change: transform;
    }

    .orb:nth-child(1) {
      width: 500px;
      height: 500px;
      background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
      top: -10%;
      left: -10%;
      animation-delay: 0s;
    }

    .orb:nth-child(2) {
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, var(--secondary) 0%, transparent 70%);
      bottom: -10%;
      right: -10%;
      animation-delay: 3s;
    }

    .orb:nth-child(3) {
      width: 350px;
      height: 350px;
      background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
      top: 50%;
      left: 50%;
      animation-delay: 6s;
    }

    @keyframes float {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(30px, -30px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.9); }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LAYOUT CONTAINER
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .container {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: clamp(1rem, 4vw, 2rem);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MAIN CARD - Single Card with Two Columns
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .main-card {
      width: 100%;
      max-width: 1100px;
      background: var(--bg-card);
      backdrop-filter: blur(20px) saturate(180%);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      display: grid;
      grid-template-columns: 1fr 420px;
      overflow: hidden;
      animation: cardEnter 600ms var(--transition-smooth) backwards;
      will-change: transform, opacity;
    }

    @keyframes cardEnter {
      from {
        opacity: 0;
        transform: translateY(30px) scale(0.96);
      }
    }

    /* Left Column: Branding */
.brand-section {
  padding: 3.5rem;
  border-radius: var(--radius-lg) 0 0 var(--radius-lg);}
  
  .brand-section, .feature-icon {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  background: #ffffff; /* <--- FONDO BLANCO */
  position: relative;
  overflow: hidden;
}

/* Arregla el texto del logo, el H1, descripciÃ³n y features */
.brand-section .logo-container,
.brand-section .logo-text,
.brand-section .brand-title,
.brand-section .brand-description,
.brand-section .feature-item {
  color: var(--text-card-primary);
}

/* Arregla el icono de check (SVG) */
.brand-section .feature-icon {
  stroke: var(--text-card-primary);
}

.brand-section .brand-footer p,
.brand-section .brand-footer small {
  color: var(--text-card-secondary); 
}

.brand-section #brandTitle,
.brand-section #brandDescription,
.brand-section .feature-item {
  color: #33374d; /* Un color oscuro para el texto */
}

.brand-section .feature-icon {
  stroke: #33374d; /* El icono de check */
}

.brand-section .logo-container,
.brand-section .logo-text,
.brand-section .brand-title,
.brand-section .brand-description,
#brandTitle,
.brand-section .feature-item {
  color: #33374d; /* Un color oscuro para el texto */
}

/* El icono de check (SVG) de las 'features' */
.brand-section .feature-icon {
  stroke: #33374d;
}


    .brand-footer small{
        color: var(--text-card-secondary);
    }
    .brand-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -30%;
      width: 400px;
      height: 400px;
      background: radial-gradient(circle, rgba(123, 44, 191, 0.2) 0%, transparent 70%);
      border-radius: 50%;
      filter: blur(60px);
      pointer-events: none;
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 1rem;
      position: relative;
      z-index: 1;
    }
.fas{
    font-family: "Font Awesome 6 Free";
}
.logo-icon {
  width: 250px; /* Tu ancho deseado */
  height: auto; /* Para que la altura se ajuste a la imagen */
  background: transparent; /* El fondo gradiente se verÃ¡ mal con una imagen rectangular */
  border-radius: var(--radius-lg);
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 900;     /* (Estilos de fallback para el texto si no carga la img) */
  font-size: 1.5rem;    /* (Estilos de fallback para el texto si no carga la img) */
  box-shadow: none; /* La sombra probablemente se vea mal en un logo no circular */
}

    .logo-text {
      font-size: clamp(1.25rem, 2vw, 1.5rem);
      font-weight: 800;
      letter-spacing: -0.02em;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    .brand-content {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      gap: 1.5rem;
      position: relative;
      z-index: 1;
    }

    .brand-title {
      font-size: clamp(2rem, 4vw, 3rem);
      font-weight: 900;
      line-height: 1.1;
      letter-spacing: -0.03em;
      background: linear-gradient(135deg, var(--text-light), var(--text-muted));
      -webkit-background-clip: text;
      background-clip: text;
    }

    .brand-description {
      font-size: 1.125rem;
      line-height: 1.6;
      color: var(--text-muted);
      max-width: 480px;
    }

    .brand-features {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-top: 1rem;
    }

    .feature-item {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      color: var(--text-muted);
      font-size: 0.95rem;
    }

    .feature-icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
      color: var(--primary-light);
    }

    .brand-footer {
      font-size: 0.875rem;
      color: var(--text-disabled);
      position: relative;
      z-index: 1;
    }

    /* Right Column: Forms */
    .form-section {
      padding: clamp(1.5rem, 4vw, 2.5rem);
      background: var(--bg-form-section);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Tab Navigation */
    .tab-nav {
      display: flex;
      gap: 0.5rem;
      padding: 0.5rem;
      background: var(--glass);
      border-radius: var(--radius-md);
      margin-bottom: 2rem;
      border: 1px solid var(--border);
    }

    .tab-btn {
      flex: 1;
      padding: 0.75rem 1rem;
      border: none;
      background: transparent;
      color: var(--text-muted);
      font-weight: 700;
      font-size: 0.875rem;
      letter-spacing: 0.03em;
      text-transform: uppercase;
      border-radius: var(--radius-sm);
      cursor: pointer;
      transition: all var(--transition-fast);
      position: relative;
      font-family: inherit;
    }

    .tab-btn:hover {
      background: var(--glass-hover);
      color: var(--text-light);
    }

.tab-btn.active {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: var(--text-light);
  box-shadow: 0 4px 12px var(--shadow-primary); /* <--- DinÃ¡mico */
}

    /* Form Container */
    .form-container {
      position: relative;
      flex: 1;
      display: flex;
      flex-direction: column;
    }

    .login-form {
      display: none;
      flex-direction: column;
      gap: 1.25rem;
      animation: formFadeIn 400ms var(--transition-smooth);
      flex: 1;
    }

    .login-form.active {
      display: flex;
    }

    @keyframes formFadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }
    }

    .form-title {
      font-size: 1.75rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
      letter-spacing: -0.02em;
    }

    .form-subtitle {
      color: var(--text-muted);
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }

    /* Form Fields */
    .form-group {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .form-label {
      font-size: 0.875rem;
      font-weight: 600;
      color: var(--text-muted);
      letter-spacing: 0.01em;
    }

    .input-wrapper {
      position: relative;
    }

    .form-input {
      width: 100%;
      padding: 0.875rem 1rem;
      padding-left: 2.75rem;
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: var(--radius-sm);
      color: var(--text-light);
      font-size: 1rem;
      font-family: inherit;
      transition: all var(--transition-fast);
      outline: none;
    }

    .form-input::placeholder {
      color: var(--text-disabled);
    }

    .form-input:focus {
      background: var(--glass-hover);
      border-color: var(--primary-light);
      box-shadow: 0 0 0 3px rgba(123, 44, 191, 0.15);
    }

    .input-icon {
      position: absolute;
      left: 0.875rem;
      top: 50%;
      transform: translateY(-50%);
      width: 20px;
      height: 20px;
      color: var(--text-muted);
      pointer-events: none;
    }

    /* Buttons */
    .btn {
      padding: 0.875rem 1.5rem;
      border: none;
      border-radius: var(--radius-sm);
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all var(--transition-fast);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      font-family: inherit;
      letter-spacing: 0.01em;
    }

.btn-primary {
  background: linear-gradient(135deg, var(--primary), var(--secondary));
  color: var(--text-light);
  box-shadow: 0 8px 24px var(--shadow-primary); /* <--- DinÃ¡mico */
  position: relative;
  overflow: hidden;
}

    .btn-primary::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--primary-light), var(--accent));
      opacity: 0;
      transition: opacity var(--transition-fast);
    }

    .btn-primary:hover::before {
      opacity: 1;
    }

    .btn-primary span {
      position: relative;
      z-index: 1;
    }

.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 12px 32px var(--shadow-primary-hover); /* <--- DinÃ¡mico */
}

    .btn-primary:active {
      transform: translateY(0);
    }

    .btn-primary:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .btn-ghost {
      background: transparent;
      color: var(--text-muted);
      border: 1px solid var(--border);
    }

    .btn-ghost:hover {
      background: var(--glass);
      color: var(--text-light);
      border-color: var(--primary-light);
    }

    .form-actions {
      display: flex;
      gap: 0.75rem;
      margin-top: 0.5rem;
    }

    .btn-block {
      width: 100%;
    }

    /* Links */
    .form-link {
      color: var(--primary);
      text-decoration: none;
      font-size: 0.875rem;
      transition: color var(--transition-fast);
      display: inline-flex;
      align-items: center;
      gap: 0.25rem;
    }

    .form-link:hover {
      color: var(--text-light);
    }

    .form-footer {
      margin-top: auto;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      display: flex;
      flex-direction: column;
      gap: 0.75rem;
      font-size: 0.875rem;
      color: var(--text-muted);
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       MODAL
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .modal-overlay {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      padding: 1rem;
      animation: fadeIn 250ms var(--transition-smooth);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
    }

    @keyframes fadeOut {
      to { opacity: 0; }
    }

    .modal-content {
      background: var(--bg-card);
      backdrop-filter: blur(20px);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 2rem;
      max-width: 400px;
      width: 100%;
      box-shadow: var(--shadow-lg);
      animation: modalEnter 350ms var(--transition-smooth);
      text-align: center;
    }

    @keyframes modalEnter {
      from {
        opacity: 0;
        transform: scale(0.9) translateY(20px);
      }
    }

    .modal-icon {
      width: 56px;
      height: 56px;
      margin: 0 auto 1rem;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
    }

    .modal-icon.success {
      background: linear-gradient(135deg, #06d6a0, #1b9aaa);
    }

    .modal-icon.error {
      background: linear-gradient(135deg, #47efba, #0fb320);
    }

    .modal-icon.info {
      background: linear-gradient(135deg, var(--primary), var(--primary-light));
    }

    .modal-title {
      font-size: 1.5rem;
      font-weight: 800;
      margin-bottom: 0.5rem;
    }

    .modal-text {
      color: var(--text-muted);
      margin-bottom: 1.5rem;
      line-height: 1.5;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       LOADING STATE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .loading {
      pointer-events: none;
      opacity: 0.6;
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       RESPONSIVE
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    @media (max-width: 968px) {
      .main-card {
        grid-template-columns: 1fr;
        max-width: 520px;
      }

      .brand-section {
        padding: 2rem;
        gap: 1.5rem;
      }

      .brand-section::before {
        display: none;
      }

      .brand-title {
        font-size: 2rem;
      }

      .brand-features {
        display: none;
      }

      .form-section {
        border-top: 1px solid var(--border);
      }
    }

    @media (max-width: 480px) {
      .container {
        padding: 1rem;
      }

      .main-card {
        border-radius: var(--radius-md);
      }

      .form-actions {
        flex-direction: column;
      }

      .btn {
        width: 100%;
      }

      .tab-btn {
        font-size: 0.75rem;
        padding: 0.625rem 0.75rem;
      }
    }

    /* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
       UTILITIES
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */
    .hidden { display: none !important; }
    .sr-only {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border-width: 0;
    }
  </style>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
</head>

<body>
  <!-- Animated Background -->
  <div class="bg-animated">
    <div class="bg-orbs">
      <div class="orb"></div>
      <div class="orb"></div>
      <div class="orb"></div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="container">
    <div class="main-card" id="mainCard">
      
      <!-- LEFT: Branding Section -->
      <div class="brand-section">
        <div class="logo-container">
          <div class="logo-icon" id="logoIcon">AC</div>
          <i class="fas fa-graduation-cap"></i>
          <div class="logo-text" id="logoText"> Aula Corporativa</div>
        </div>

        <div class="brand-content">
          <h1 class="brand-title" id="brandTitle">Â¡Bienvenido!</h1>
          <p class="brand-description" id="brandDescription">
            Accede a tu plataforma de capacitaciÃ³n corporativa. Aprende, y mejorar tus habilidades profesionales.
          </p>
        </div>

        <div class="brand-footer">
          <small>&copy; <span id="currentYear"></span> Aula Corporativa. Todos los derechos reservados.</small>
        </div>
      </div>

      <!-- RIGHT: Form Section -->
      <div class="form-section">
        <!-- Tab Navigation -->
        <nav class="tab-nav" role="tablist" aria-label="Tipo de usuario">
          <button class="tab-btn active" role="tab" aria-selected="true" data-tab="employees" id="tabEmployees">
            Trabajadores
          </button>
          <button class="tab-btn" role="tab" aria-selected="false" data-tab="contractors" id="tabContractors">
            Contratistas
          </button>
        </nav>

        <!-- Form Container -->
        <div class="form-container">
          
          <!-- Employees Form -->
          <form class="login-form active" id="formEmployees" role="tabpanel" aria-labelledby="tabEmployees">
            <div>
              <h2 class="form-title">Iniciar SesiÃ³n</h2>
              <p class="form-subtitle">Ingresa tus credenciales corporativas</p>
            </div>

            <div class="form-group">
              <label class="form-label" for="empUsername" id="labelEmpUser">Usuario</label>
              <div class="input-wrapper">
                <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
                </svg>
                <input 
                  type="text" 
                  id="empUsername" 
                  class="form-input" 
                  placeholder="usuario@empresa.com"
                  autocomplete="username"
                  required
                />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="empPassword" id="labelEmpPass">ContraseÃ±a</label>
              <div class="input-wrapper">
                <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
                <input 
                  type="password" 
                  id="empPassword" 
                  class="form-input" 
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  autocomplete="current-password"
                  required
                />
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary btn-block" id="btnLoginEmp">
                <span>Ingresar</span>
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                </svg>
              </button>
            </div>

            <div class="form-footer">
              <a href="#" class="form-link" id="forgotEmp">Â¿Olvidaste tu contraseÃ±a?</a>
              <div>Â¿No tienes cuenta? <a href="#" class="form-link" id="registerEmp">RegÃ­strate aquÃ­</a></div>
            </div>
          </form>

          <!-- Contractors Form -->
          <form class="login-form" id="formContractors" role="tabpanel" aria-labelledby="tabContractors">
            <div>
              <h2 class="form-title">Acceso Contratistas</h2>
              <p class="form-subtitle">Ingresa tu ID de contratista</p>
            </div>

            <div class="form-group">
              <label class="form-label" for="conUsername" id="labelConUser">ID Contratista</label>
              <div class="input-wrapper">
                <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"/>
                </svg>
                <input 
                  type="text" 
                  id="conUsername" 
                  class="form-input" 
                  placeholder="CONTR-12345"
                  autocomplete="username"
                  required
                />
              </div>
            </div>

            <div class="form-group">
              <label class="form-label" for="conPassword" id="labelConPass">ContraseÃ±a</label>
              <div class="input-wrapper">
                <svg class="input-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                </svg>
                <input 
                  type="password" 
                  id="conPassword" 
                  class="form-input" 
                  placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"
                  autocomplete="current-password"
                  required
                />
              </div>
            </div>

            <div class="form-actions">
              <button type="submit" class="btn btn-primary btn-block" id="btnLoginCon">
                <span>Ingresar</span>
                <svg width="20" height="20" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                </svg>
              </button>
            </div>

            <div class="form-footer">
              <a href="#" class="form-link" id="supportCon">Soporte para contratistas</a>
              <div>Â¿Problemas de acceso? <a href="#" class="form-link" id="helpCon">Contactar supervisor</a></div>
            </div>
          </form>

        </div>
      </div>

    </div>
  </div>

  <!-- Modal Root -->
  <div id="modalRoot" role="dialog" aria-live="polite"></div>

  <!-- Main JavaScript -->
  <script>
  (function() {
    'use strict';

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // CONFIGURATION & DEFAULTS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const DEFAULTS = {
      companyName: "Aula Corporativa",
      logoText: "AC",
      logoUrl: null,
      tagline: "Â¡Bienvenido!",
      description: "Accede a tu plataforma de capacitaciÃ³n corporativa. Aprende, crece y alcanza tus objetivos profesionales.",
      
      // Theme colors
        primaryColor: "#234B95",     // (Mantenemos el gris sobrio)
        secondaryColor: "#1F3F7A",   // (MantenMantenemos el gris sobrio)
        bgDark: "#141E30",           // Color de fallback (el mÃ¡s oscuro del gradiente)
        textColor: "#ffffff",
        
        // Colores de la tarjeta de branding (izquierda)
        textCardPrimary: "#33374d",   // Color de texto principal (oscuro)
        textCardSecondary: "#5a6278", // Color de texto secundario (gris)
        
        // Fondo del formulario (derecha)
        bgFormSection: "rgba(0, 0, 0, 0.3)",
      
      // Background
        backgroundImage: `linear-gradient(to bottom, #141E30, #243B55)`, // El gradiente de tu imagen
        animatedBackground: false, // Desactiva las "orbes" flotantes
      
      // Features list
      features: [
        "Acceso 24/7 a cursos y materiales",
        "Certificaciones profesionales",
        "Seguimiento de progreso en tiempo real"
      ],
      
      // Form labels
      labels: {
        empUser: "Usuario",
        empPass: "ContraseÃ±a",
        conUser: "ID Contratista",
        conPass: "ContraseÃ±a"
      },
      
      // Redirects
      successRedirect: "dashboard.html",
      
      // Footer
      copyrightText: null,
      
      // Custom CSS
      customCss: null
    };
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // UTILITY FUNCTIONS
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const $ = (selector) => document.querySelector(selector);
    const $$ = (selector) => Array.from(document.querySelectorAll(selector));
    
    const setStyle = (prop, value) => {
      document.documentElement.style.setProperty(prop, value);
    };

    // NUEVA FUNCIÃ“N: Convierte Hex a RGBA (para transparencias)
function hexToRGBA(hex, alpha = 1) {
  const [r, g, b] = (hex.match(/\w\w/g) || []).map(x => parseInt(x, 16));
  if (r === undefined) return null; // Maneja mal input
  return `rgba(${r}, ${g}, ${b}, ${alpha})`;
}

// NUEVA FUNCIÃ“N: Aclara u oscurece un color Hex
function lightenHex(hex, percent = 10) {
  const [r, g, b] = (hex.match(/\w\w/g) || []).map(x => parseInt(x, 16));
  if (r === undefined) return null;
  const t = percent < 0 ? 0 : 255;
  const p = Math.abs(percent) / 100;
  
  const R = Math.round((t - r) * p) + r;
  const G = Math.round((t - g) * p) + g;
  const B = Math.round((t - b) * p) + b;
  
  return `#${(B | (G << 8) | (R << 16) | (1 << 24)).toString(16).slice(1)}`;
}

    const detectTenant = () => {
      const host = location.hostname || 'localhost';
      const parts = host.split('.');
      
      // subdomain.domain.com -> subdomain
      if (parts.length > 2 && parts[0] !== 'www') {
        return parts[0];
      }
      
      // localhost or single domain
      return host === 'localhost' ? 'demo' : 'default';
    };

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TENANT LOADING
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const tenantId = detectTenant();
    
    async function loadTenantConfig() {
      try {
        const response = await fetch('./tenants.json', {
          cache: 'no-store',
          headers: { 'Accept': 'application/json' }
        });
        
        if (!response.ok) throw new Error('Tenant config not found');
        
        const data = await response.json();
        const tenantConfig = data[tenantId] || data['default'] || {};
        
        // Deep merge with defaults
        const config = {
          ...DEFAULTS,
          ...tenantConfig,
          labels: { ...DEFAULTS.labels, ...(tenantConfig.labels || {}) }
        };
        
        return config;
      } catch (error) {
        console.warn('âš ï¸ Tenant config not loaded, using defaults:', error);
        return DEFAULTS;
      }
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // APPLY CONFIGURATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // APPLY CONFIGURATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function applyConfiguration(config) {
  // 1. Lee los colores base del config
  const primary = config.primaryColor;
  const secondary = config.secondaryColor;
  const bgDark = config.bgDark;
  const text = config.textColor;
  
  // Lee los nuevos colores
  const textCardPrimary = config.textCardPrimary;
  const textCardSecondary = config.textCardSecondary;
  const bgFormSection = config.bgFormSection;

  // 2. Calcula las variaciones
  // (Si el tenant provee un valor especÃ­fico, Ãºsalo. Si no, calcÃºlalo.)
  const primaryLight = config.primaryLight || lightenHex(primary, 15);
  const accent = config.accentColor || primaryLight;
  const bgCard = config.bgCard || hexToRGBA(bgDark, 0.75); // Fondo de tarjeta
  const shadowPrimary = config.shadowPrimary || hexToRGBA(primary, 0.3);
const shadowPrimaryHover = config.shadowPrimaryHover || hexToRGBA(primary, 0.4);
  
  const textLight = text;
  const textMuted = config.textMuted || hexToRGBA(text, 0.65); // Texto grisado
  const textDisabled = config.textDisabled || hexToRGBA(text, 0.4); // Texto deshabilitado
  const border = config.border || hexToRGBA(text, 0.1); // Borde
  const glass = config.glass || hexToRGBA(text, 0.08); // Efecto vidrio
  const glassHover = config.glassHover || hexToRGBA(text, 0.12); // Vidrio hover

  // 3. Aplica TODAS las variables al CSS
  setStyle('--primary', primary);
  setStyle('--primary-light', primaryLight);
  setStyle('--secondary', secondary);
  setStyle('--accent', accent);
  
  setStyle('--bg-dark', bgDark);
  setStyle('--bg-card', bgCard);
  
  setStyle('--text-light', textLight);
  setStyle('--text-muted', textMuted);
  setStyle('--text-disabled', textDisabled);
  
  setStyle('--border', border);
  setStyle('--glass', glass);
  setStyle('--glass-hover', glassHover);
  setStyle('--shadow-primary', shadowPrimary);
  setStyle('--shadow-primary-hover', shadowPrimaryHover);
  
  // Aplica las nuevas variables
  setStyle('--text-card-primary', textCardPrimary);
  setStyle('--text-card-secondary', textCardSecondary);
  setStyle('--bg-form-section', bgFormSection);

  // 4. Aplica el resto de la configuraciÃ³n (logo, textos, etc.)
  const logoIcon = $('#logoIcon');
  const logoText = $('#logoText');
  
  if (config.logoUrl) {
    logoIcon.innerHTML = `<img src="${config.logoUrl}" alt="Logo" style="max-width:100%; max-height:100%; object-fit:contain; border-radius: var(--radius-lg);" />`;
  } else {
    logoIcon.textContent = config.logoText;
  }
  
  logoText.textContent = config.companyName;

  $('#brandTitle').textContent = config.tagline;
  $('#brandDescription').textContent = config.description;

  const featuresContainer = $('#brandFeatures');
  if (config.features && config.features.length > 0) {
    featuresContainer.innerHTML = config.features.map(feature => `
      <div class="feature-item">
        <svg class="feature-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
        </svg>
        <span>${feature}</span>
      </div>
    `).join('');
  }

  $('#labelEmpUser').textContent = config.labels.empUser;
  $('#labelEmpPass').textContent = config.labels.empPass;
  $('#labelConUser').textContent = config.labels.conUser;
  $('#labelConPass').textContent = config.labels.conPass;

  $('#currentYear').textContent = new Date().getFullYear();

  if (config.backgroundImage) {
    $('.bg-animated').style.backgroundImage = `url('${config.backgroundImage}')`;
    $('.bg-animated').style.backgroundSize = 'cover';
    $('.bg-animated').style.backgroundPosition = 'center';
  }

  if (!config.animatedBackground) {
    $('.bg-orbs').style.display = 'none';
  }

  if (config.customCss) {
    const link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = config.customCss;
    document.head.appendChild(link);
  }

  window.__loginRedirect = config.successRedirect;

  initializeInteractions();
}

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // TAB SYSTEM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function initializeInteractions() {
      const tabButtons = $$('.tab-btn');
        const forms = $$('.login-form');

      tabButtons.forEach(button => {
        button.addEventListener('click', () => {
          const targetTab = button.dataset.tab;
          
          // Update tabs
          tabButtons.forEach(btn => {
            const isActive = btn.dataset.tab === targetTab;
            btn.classList.toggle('active', isActive);
            btn.setAttribute('aria-selected', isActive);
          });

          // Update forms
          forms.forEach(form => {
            const isActive = form.id === `form${capitalize(targetTab)}`;
            form.classList.toggle('active', isActive);
          });
        });
      });

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // FORM SUBMISSIONS
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      
      // Employees login
      $('#formEmployees').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const username = $('#empUsername').value.trim();
        const password = $('#empPassword').value.trim();
        
        if (!username || !password) {
          showModal('Error', 'Por favor completa todos los campos', 'error');
          return;
        }

        // Show loading state
        const btn = $('#btnLoginEmp');
        btn.classList.add('loading');
        btn.disabled = true;

        // Simulate API call (replace with real authentication)
        setTimeout(() => {
          btn.classList.remove('loading');
          btn.disabled = false;
          
if (username === 'admin' && password === '123') {
            // Ã‰XITO: Si el usuario y pass son correctos
            showModal(
              'Â¡Bienvenido!',
              'Inicio de sesiÃ³n exitoso. Redirigiendo...',
              'success',
              () => {
                window.location.href = window.__loginRedirect || './profile.html';
              }
            );
          } else {
            // ERROR: Si son incorrectos
            showModal(
              'Error de Acceso',
              'El usuario o la contraseÃ±a son incorrectos.',
              'error'
            );
          }
        }, 1000);
      });

      // Contractors login
      $('#formContractors').addEventListener('submit', async (e) => {
        e.preventDefault();
        
        const username = $('#conUsername').value.trim();
        const password = $('#conPassword').value.trim();
        
        if (!username || !password) {
          showModal('Error', 'Por favor completa todos los campos', 'error');
          return;
        }

        const btn = $('#btnLoginCon');
        btn.classList.add('loading');
        btn.disabled = true;

        setTimeout(() => {
          btn.classList.remove('loading');
          btn.disabled = false;
          
          showModal(
            'Acceso Aprobado',
            'Redirigiendo a tu panel...',
            'success',
            () => {
              window.location.href = window.__loginRedirect || 'dashboard.html';
            }
          );
        }, 1000);
      });

      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      // LINK HANDLERS
      // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
      
      $('#forgotEmp')?.addEventListener('click', (e) => {
        e.preventDefault();
        showModal(
          'Recuperar ContraseÃ±a',
          'Contacta al departamento de RRHH o utiliza la opciÃ³n de recuperaciÃ³n de tu empresa.',
          'info'
        );
      });

      $('#registerEmp')?.addEventListener('click', (e) => {
        e.preventDefault();
        showModal(
          'Registro de Usuario',
          'Para crear una cuenta, solicita acceso a travÃ©s del departamento de Recursos Humanos.',
          'info'
        );
      });

      $('#supportCon')?.addEventListener('click', (e) => {
        e.preventDefault();
        showModal(
          'Soporte Contratistas',
          'Contacta a tu supervisor o al coordinador de contratistas para asistencia.',
          'info'
        );
      });

      $('#helpCon')?.addEventListener('click', (e) => {
        e.preventDefault();
        showModal(
          'Ayuda',
          'Para problemas de acceso, contacta directamente a tu supervisor.',
          'info'
        );
      });

      // Enter key submission
      ['empUsername', 'empPassword', 'conUsername', 'conPassword'].forEach(id => {
        $(`#${id}`)?.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            e.preventDefault();
            const form = e.target.closest('form');
            form?.dispatchEvent(new Event('submit'));
          }
        });
      });
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // MODAL SYSTEM
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function showModal(title, message, type = 'info', callback = null) {
      const modalRoot = $('#modalRoot');
      if (!modalRoot) return;

      const icons = {
        success: 'âœ“',
        error: 'âœ•',
        info: 'â„¹'
      };

      const modal = document.createElement('div');
      modal.className = 'modal-overlay';
      modal.innerHTML = `
        <div class="modal-content">
          <div class="modal-icon ${type}">
            ${icons[type] || icons.info}
          </div>
          <h3 class="modal-title">${title}</h3>
          <p class="modal-text">${message}</p>
          <button class="btn btn-primary" id="modalClose">Aceptar</button>
        </div>
      `;

      modalRoot.innerHTML = '';
      modalRoot.appendChild(modal);

      const closeModal = () => {
        modal.style.animation = 'fadeOut 200ms ease-out forwards';
        setTimeout(() => {
          modalRoot.innerHTML = '';
          if (callback) callback();
        }, 200);
      };

      $('#modalClose').addEventListener('click', closeModal);
      modal.addEventListener('click', (e) => {
        if (e.target === modal) closeModal();
      });

      // Close on Escape
      const escapeHandler = (e) => {
        if (e.key === 'Escape') {
          closeModal();
          document.removeEventListener('keydown', escapeHandler);
        }
      };
      document.addEventListener('keydown', escapeHandler);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // UTILITIES
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function capitalize(str) {
      return str.charAt(0).toUpperCase() + str.slice(1);
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    // INITIALIZATION
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    async function init() {
      console.log(`ğŸš€ Initializing tenant: ${tenantId}`);
      
      const config = await loadTenantConfig();
      applyConfiguration(config);
      
      console.log('âœ… Application ready');
    }

    // Start when DOM is ready
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', init);
    } else {
      init();
    }

  })();
  </script>
</body>
</html>