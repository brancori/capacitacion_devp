/* ========================================================================
   ESTILOS DE ESCRITORIO (BASE)
   ======================================================================== */

/* Restaurar tama침o de fuente base */
html { font-size: 100%; }

/* Contenedor principal */
.user-list-container {
    background: var(--card-bg);
    border-radius: 12px;
    box-shadow: 0 4px 12px var(--shadow);
    overflow: hidden;
}

/* Header y Filtros */
.list-header {
    padding: 1.5rem 2rem;
    border-bottom: 2px solid var(--border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
}

.list-header h1 {
    margin: 0;
    color: var(--primaryColor);
    font-size: 1.75rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.filter-bar { min-width: 300px; }

/* Tabla General (Desktop Grid) */
.user-table-wrapper {
    overflow-x: auto;
    width: 100%;
    background: var(--card-bg); /* Fondo blanco para todo */
}

.user-table {
    display: flex;
    flex-direction: column;
    min-width: 900px; /* Forzar scroll si es muy peque침o */
    width: 100%;
}

.user-table.simple-view .user-row {
    /* Nombre | Email | Rol | Estado | Acciones */
    grid-template-columns: 1.5fr 1.5fr 1fr 100px 120px;
}

.user-row {
    display: grid;
    width: 100%;
    /* Definici칩n por defecto (MASTER - 6 Columnas) */
    /* Nombre | Email | Rol | Tenant | Estado | Acciones */
    grid-template-columns: 1.5fr 1.5fr 1fr 0.8fr 100px 120px;
    border-bottom: 1px solid var(--border);
    align-items: center; /* Centrado vertical del contenido */
}

/* Estilos de Celdas Desktop */
.user-row > div {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center; /* Centrado vertical */
}

/* Utilidad espec칤fica para desktop */
.user-row > div.text-center {
    justify-content: center; /* Centrado horizontal solo en desktop */
}

.user-row.header > div {
    background: var(--light-gray);
    font-weight: 700;
    color: var(--primaryColor);
    position: sticky;
    top: 0;
}

.user-row:not(.header):hover > div { background: #f9f9f9; }

/* Toggle Switch (Interruptor) */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 46px;
    height: 24px;
    flex-shrink: 0;
}
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.slider {
    position: absolute;
    cursor: pointer;
    top: 0; left: 0; right: 0; bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 24px;
}
.slider:before {
    position: absolute;
    content: "";
    height: 18px; width: 18px;
    left: 3px; bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}
input:checked + .slider { background-color: var(--success); }
input:checked + .slider:before { transform: translateX(22px); }

/* Botones de Acci칩n */
.actions { gap: 8px; }
.actions .btn-outline {
    padding: 6px 10px;
    font-size: 0.9rem;
}

/* Loading y Pendientes */
.loading-row {
    grid-column: 1 / -1;
    padding: 3rem;
    text-align: center;
    color: var(--text-secondary);
}

.pending-requests-container {
    width: 100%;
    margin-bottom: 1.5rem;
    background: #fff3cd; /* Fondo amarillo suave */
    border: 1px solid #ffeeba;
    border-radius: 8px;
    padding: 1rem;
}

.request-table { display: grid; grid-template-columns: 1fr; }
.request-row { 
    display: grid; 
    grid-template-columns: 1fr 1fr 1fr 1fr 150px; 
    padding: 0.5rem;
    align-items: center;
    border-bottom: 1px solid rgba(0,0,0,0.05);
}


/* ========================================================================
   游님 ESTILOS M칍VILES (CORRECCI칍N TOTAL)
   ======================================================================== */
@media (max-width: 900px) {
    
    /* 1. Ajustes generales */
    .container { padding: 10px; }
    .list-header { padding: 1rem; flex-direction: column; align-items: stretch; }
    .filter-bar { width: 100%; margin-top: 10px; }
    
    /* Ocultar cabeceras de tabla */
    .user-table .header, .request-row.header { display: none; }

    /* 2. Transformar Tabla en Tarjetas */
    .user-table, .request-table { display: block; min-width: 100%; }
    
    .user-row, .request-row {
        display: flex; /* Cambiamos display contents por Flex column */
        flex-direction: column;
        background: white;
        margin-bottom: 1rem;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.08);
        border: 1px solid var(--border);
        overflow: hidden;
    }

    /* 3. Celdas internas (Filas de la tarjeta) */
    .user-row > div, .request-row > div {
        display: flex; /* Usamos Flex para alinear etiqueta y valor */
        flex-direction: row;
        align-items: center;
        justify-content: flex-start !important; /* Forzar alineaci칩n izquierda siempre */
        text-align: left !important;
        padding: 12px 15px;
        border-bottom: 1px solid var(--light-gray);
        width: 100%;
    }

    /* Quitar borde al 칰ltimo */
    .user-row > div:last-child { border-bottom: none; }

    /* 4. Etiqueta Generada (La clave de la alineaci칩n) */
    .user-row > div[data-label]:before,
    .request-row > div[data-label]:before {
        content: attr(data-label);
        flex-basis: 35%;     /* Ocupa siempre el 35% del ancho */
        flex-shrink: 0;      /* No encogerse */
        font-weight: 700;
        color: var(--primaryColor);
        font-size: 0.9rem;
        margin-right: 1rem;  /* Separaci칩n con el valor */
    }

    /* 5. Correcci칩n espec칤fica para "Acciones" */
    /* Como hay m칰ltiples botones, flex-wrap ayuda si no caben */
    .user-row > div.actions, .request-row .actions {
        flex-wrap: wrap;
        gap: 10px;
    }
    
    .actions button {
        flex: 1; /* Botones crecen para llenar espacio */
        justify-content: center;
    }

    /* 6. Correcci칩n espec칤fica para "Estado" (Toggle) */
    /* Forzamos que el toggle NO se expanda, solo ocupe su espacio natural */
    .toggle-switch {
        margin: 0; /* Quitar m치rgenes autom치ticos */
    }

    /* Ocultar columna tenant vac칤a si aplica */
    .tenant-col:empty { display: none; }
}


.user-table.simple-view {
    grid-template-columns: minmax(200px, 1.5fr) minmax(200px, 1.5fr) minmax(100px, 1fr) 100px 120px;
}